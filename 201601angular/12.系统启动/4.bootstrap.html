<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button onclick="start()">启动</button>
<lufy></lufy>


</body>
<script src="../11.注射器/angular.js"></script>
<script>
  function start(){
       //1. 创建注射器对象并保存到根对象的data里
      var injector = angular.injector(['ng','zfpxMod']);
      angular.element(document).data('$injector',injector);
      //2.创建根作用域并保存到data里
      var rootScope = injector.get('$rootScope');
      angular.element(document).data('$rootScope',rootScope);
      //3.编辑DOM元素子树
      var compile = injector.get('$compile');
      //从根节点开始编译 并传入rootscope进行链接
      compile(document)(rootScope);
  }
  angular.module('zfpxMod',[]);
  angular.module('zfpxMod').controller('zfpxCtrl',function($scope){

  });
  angular.module('zfpxMod').directive('lufy',function(){
      return {
          restrict:'E',
          replace:true,
          template:'<img src="http://pic19.nipic.com/20120322/3547369_171516629146_2.jpg" style="width:200px;height:300px"/>'
      }
  });
</script>
</html>